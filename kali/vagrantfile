Vagrant.configure("2") do |config|
    config.vm.box = "kalilinux/rolling"
    config.vm.box_check_update = true # set this to false to not check for updated boxes
    config.vm.provider "virtualbox" do |vb, override|
        vb.gui = true
        vb.linked_clone = false # if true, create local master image from 
        vb.name = 'kali-customized'
        vb.customize ["modifyvm", :id, "--memory", 4096]
        vb.customize ["modifyvm", :id, "--cpus", "2"]
        vb.customize ["modifyvm", :id, "--vram", "32"]
        vb.customize ["modifyvm", :id, "--clipboard", "bidirectional"]
        vb.customize ["modifyvm", :id, "--nic2", "natnetwork"] # set nic 2 to NatNetwork 
        vb.customize ["modifyvm", :id, "--nat-network2", "NatNetwork"]  
        # set nic to NatNetwork
        # check out VBOXMANAGE 'modifyvm' command (on win "C:\Program Files\Oracle\VirtualBox\VBoxManage.exe") for options
        #vb.customize ["modifyvm", :id, "--nic1", "natnetwork"] 
        #vb.customize ["modifyvm", :id, "--nat-network1", "NatNetwork"] 
      end
    config.vm.network :private_network, ip: "192.168.56.50", virtualbox__intnet: "vboxnet1"
    config.vm.provision "shell", path: "install-utils.sh", privileged: false
  end
